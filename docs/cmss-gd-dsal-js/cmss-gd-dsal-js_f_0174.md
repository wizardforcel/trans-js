## 带值的字典树：更好的自动补全

如果我们考虑一下，一个好的自动补全功能不一定会显示用户可能打算输入的每一个单词。显示比如说十六个选项会让用户感到不知所措，因此我们宁愿只显示可用列表中最受欢迎的单词。

例如，如果用户开始输入`“bal”`，用户可能打算输入`“ball”`、`“bald”`或`“balance”`。现在，也有可能用户在输入生僻词`“balter”`（如果你想知道，它的意思是笨拙地跳舞）。然而，`“balter”`可能并不是用户想要的单词，因为它并不常见。

要显示最受欢迎的单词选项，我们需要在字典树中存储单词流行程度的数据。幸运的是，我们只需对字典树进行稍微修改即可实现这一点。

在我们当前的字典树实现中，每次我们设置`"*"`键时，其值都是空的。这是因为我们只关注`"*"`键；其值没有任何意义。

然而，我们可以利用这些值来存储有关单词本身的额外数据，例如它们的流行程度。为了简单起见，让我们使用一个从`1`到`10`的简单范围，其中`1`表示最稀有的单词，`10`则表示极为流行的单词。

假设`“ball”`是一个非常流行的单词，其流行度评分为`10`。单词`“balance”`可能稍微不那么流行，评分为`9`。而单词`“bald”`使用得更少，评分为`7`。由于`“balter”`是一个鲜为人知的单词，我们将其评分设为`1`。我们可以这样在字典树中存储这些评分：

![`images/tries/weighted_trie.png`](images/tries/weighted_trie.png)

通过将数字作为每个`"*"`键的值，我们可以有效地存储每个单词的流行度评分。当我们现在收集字典树中的所有单词时，我们可以同时收集它们的评分，然后按照流行度对单词进行排序。然后我们可以选择仅显示最受欢迎的单词选项。
