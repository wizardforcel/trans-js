# 第18章

通过图形连接一切

假设我们正在构建一个允许人们彼此交友的社交网络。这些友谊是相互的，因此如果**爱丽丝**和**鲍勃**是朋友，那么**鲍勃**也会是**爱丽丝**的朋友。

我们如何最好地组织这些数据？

一种基本方法可能是使用二维数组来存储友谊列表：

| ​  | `friendships = [` |
| --- | --- |
| ​  | `["Alice", "Bob"]`, |
| ​  | `["Bob", "Cynthia"]`, |
| ​  | `["Alice", "Diana"]`, |
| ​  | `["Bob", "Diana"]`, |
| ​  | `["Elise", "Fred"]`, |
| ​  | `["Diana", "Fred"]`, |
| ​  | `["Fred", "Alice"]` |
| ​  | ] |

在这里，每个包含一对名字的子数组表示两个人之间的友谊。

不幸的是，使用这种方法，没有快速的方式可以查看**爱丽丝**的朋友是谁。如果我们仔细观察，可以看到**爱丽丝**与**鲍勃**、**黛安娜**和**弗雷德**是朋友。但为了让计算机确定这一点，它必须遍历列表中的所有关系，因为**爱丽丝**可能出现在任何关系中。这是`O(N)`，速度非常慢。

幸运的是，我们可以做得比这好得多。使用一种称为图的数据结构，我们可以在`O(1)`时间内找到**爱丽丝**的朋友。
