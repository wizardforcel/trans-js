## 图

图是一种专注于关系的数据结构，因为它可以轻松传达数据是如何连接的。

这是我们社交网络的可视化，显示为图：

`![images/graphs/graph_1.png](images/graphs/graph_1.png)`

每个人都由一个节点表示，每条线表示与另一个人的友谊。例如，如果你看看`Alice`，你可以看到她与`Bob`、`Diana`和`Fred`是朋友，因为她的节点有与他们节点连接的线。

### 图与树

你可能注意到图看起来与树相似，我们在过去的几章中已经处理过树。实际上，树是一种图。两种数据结构都由相互连接的节点组成。

那么图和树之间的区别是什么？

事情是这样的：虽然所有的树都是图，但并不是所有的图都是树。

具体而言，为了使一个图被视为树，它不能有循环，并且所有节点必须是连接的。让我们看看这意味着什么。

一个图可能有形成循环的节点——即相互循环引用的节点。在之前的例子中，`Alice`与`Diana`是朋友，`Diana`与`Bob`相连，而`Bob`又与……`Alice`相连。这三个节点形成了一个循环。

另一方面，树是不“允许”有循环的。如果一个图有循环，那么它就不是树。

树的另一个特征是每个节点在某种程度上都与其他节点相连，即使连接是间接的。然而，一个图可能并不是完全连通的。

请查看以下图：

`![images/graphs/disconnected_graph.png](images/graphs/disconnected_graph.png)`

在这个社交网络中，我们有两对朋友。然而，这两对朋友中的任何人都没有与另一对的任何人交朋友。此外，我们可以看到`Vicky`还没有朋友，因为她可能是几分钟前刚注册这个社交网络的。然而，在树中，永远不会有一个节点与树的其余部分断开连接。

### 图的术语

图有自己的一些技术术语。我们习惯称每个数据片段为节点，但在“图语言”中，每个节点被称为`vertex`。节点之间的线，嗯——`vertices`，也有自己的名称，称为`edges`。被`edge`连接的`vertices`被称为彼此相邻。一些计算机科学家也将相邻的`vertices`称为`neighbors`。

在我们的第一个图中，`Alice`和`Bob`的`vertices`是相邻的，因为它们共享一条边。

我之前提到过，一个图可能有一个与其他`vertices`完全不连接的`vertex`。然而，所有`vertices`以某种方式相连的图被称为连通图。

### 简单图的实现

为了代码组织的考虑，我们将使用面向对象的类来表示我们的图，但值得注意的是，我们也可以使用基本的哈希表（参见第 8 章，[`“使用哈希表实现快速查找”`](f_0076.xhtml#chp.hashes)）来表示一个初步的图。以下是使用哈希表的社交网络的基本实现：

| ​  | `friends = {` |
| --- | --- |
| ​  | `“Alice”`: [`“Bob”`, `“Diana”`, `“Fred”`], |
| ​  | `“Bob”`: [`“Alice”`, `“Cynthia”`, `“Diana”`], |
| ​  | `“Cynthia”`: [`“Bob”`], |
| ​  | `“Diana”`: [`“Alice”`, `“Bob”`, `“Fred”`], |
| ​  | `“Elise”`: [`“Fred”`], |
| ​  | `“Fred”`: [`“Alice”`, `“Diana”`, `“Elise”`] |
| ​  | `}` |

有了图，我们可以在 O(1) 中查找 **Alice** 的朋友，因为我们可以在哈希表中用一步查找任何键的值：

| ​  | `friends["Alice"]` |
| --- | --- |

这立即返回包含所有 **Alice** 的朋友的数组。
