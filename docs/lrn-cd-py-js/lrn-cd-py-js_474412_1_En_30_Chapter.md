© 作者，专有许可 Springer Fachmedien Wiesbaden GmbH，Springer Nature 的一部分 2024 J. L. Zuckarelli 《使用 Python 和 JavaScript 学习编码》[https://doi.org/10.1007/978-3-658-42912-6_30](https://doi.org/10.1007/978-3-658-42912-6_30)

# 30. 语法、注释、代码风格与文档：如何确保我（以及其他人）以后还能理解我的程序？

Joachim L. Zuckarelli^([1](#Aff2) )(1)德国慕尼黑概述

在我们真正开始使用 JavaScript 编程之前，我们需要先回答一些关于程序代码设计的重要问题——你已经猜到啦——就是代码的注释问题。

在本章中你将学到：

+   变量、函数和其他对象的标识符是如何构建的

+   如何完成指令

+   有哪些样式指南可以帮助你设计 JavaScript 代码

+   在 JavaScript 中你可以使用哪些类型的注释

## 30.1 程序代码的设计和命名规范

标识符

JavaScript 是区分大小写的，即它区分大写字母和小写字母。像变量、对象和函数的标识符可以包含字母、数字、下划线（**_**）和美元符号（**$**），但不能以数字开头。在 JavaScript 中，标识符是按照 Unicode 编码的，这意味着变音符号和其他非英语字母也可以出现在标识符中。然而，由于这些字符在大多数自然语言中并不常见，建议尽量避免使用它们。如果你在互联网上发布示例代码寻求帮助，国际观众可能会遇到问题，如果他们想编辑你的代码时，很难复制这些字符。试想一下，如果一个冰岛人将变量命名为 **húsið1**（意思是 **house1**），而你需要编辑这段代码，那会是什么情况。

在 JavaScript 中，标识符的第一个词通常以小写字母开头，后续的词则以大写字母开头（即使这些词在自然语言中通常是小写的）。一个典型的 JavaScript 标识符可能是 **isCustomerActive** 或 **startSave()**。这种写法被称为 *驼峰命名法*，因为标识符中有类似“驼峰”的结构，刚开始可能不太习惯，但在 JavaScript 程序员眼中，这会使你的程序看起来特别“JavaScript 风格”。

语句的结束和语句断开

JavaScript 中的语句*可以*以分号结束。如果多个语句位于同一行，它们*必须*用分号分隔。然而，与某些其他语言不同的是，并不是每个 JavaScript 语句在行尾自动以分号结束。JavaScript 会检查，如果语句在行尾没有分号，继续到下一行时是否语法上仍然正确。这一特性可能导致在某些情况下出现意外且难以解释的行为。因此，在这里我们始终使用分号结束语句——尽管一些 JavaScript 风格指南建议不同。我们使用分号结束语句的做法并不适用于我们在 JavaScript 控制台中执行的语句，因为在控制台中，语句的结束由按下 <RETURN> 或 <ENTER> 键明确标记。

语句可以换行，即可以在下一行继续。然而，字符串中的*换行是不允许的*。例如，下面这个用于 JavaScript 控制台的换行输出语句在语法上是正确的：

**>** console.log('Hello','World') 以下的写法也是允许的：**>** console.log('Hello', 'world')

由于 JavaScript 中的字符串也可以通过加号运算符连接，你也可以这样写：

**>** console.log('Hello'+ 'world')

然而，下一个输出语句将不被允许，因为它包含了字符串内的换行：

**>** console.log('HelloWorld') 如果你非要在字符串中实现换行，可以使用反斜杠（**"\"**）来创建，它本身不会被输出：**>** console.log('Hello \World')

如果你要换行，建议相应地缩进第二行。在书中，程序代码通常会换行以适应页面宽度。当然，你可以在书中下载的程序代码并不受此限制，因此换行会较少。

一般代码风格

就像大多数其他编程语言一样，聪明的开发者已经考虑到了如何格式化 JavaScript 代码，使其清晰易读。结果便是风格指南，JavaScript 也有多个这样的指南。它们可能会在同一主题上给出不同的建议，比如关于在语句结束时是否使用分号的问题。

知名的 JavaScript 风格指南包括 *Google JavaScript 风格指南*（► [https://​google.​github.​io/​styleguide/​jsguide.​html](https://google.github.io/styleguide/jsguide.html)），Airbnb 的风格指南（► [https://​github.​com/​airbnb/​javascript](https://github.com/airbnb/javascript)），以及 *JavaScript 标准风格指南*（► [https://​github.​com/​standard/​standard](https://github.com/standard/standard)）。与其名称相反，它并不担任官方角色，举例如 Python 的 *Python 增强提案*（*PEP*）第 8 号所做的那样。对于一些风格指南，包括标准风格指南，甚至有软件（*linter*），它能够完全自动格式化源代码，使其符合风格指南的规范。

在本书的这一部分，我们不会完全遵循任何一个风格指南。除非在专业环境中，和其他开发人员一起工作，否则并不一定需要 100% 实现风格指南。然而，浏览一些风格指南并可能从中学到一些东西，还是个不错的主意。

## 30.2 注释

JavaScript 支持单行注释和多行注释。单行注释以**//**开始，标识符右侧的所有内容都将作为注释，不会被解释器处理。多行注释以**/***开始，***/**结束（所以星号始终面向注释文本）。

注释的示例可能如下所示：

*/***这里是一个多行注释，解释了为什么赋值 a = 5 是必要的***/*a = 5;*// 这个赋值可以用一行注释解释*b = 10;c = 7;*// c 也必须用一个有意义的值进行初始化*

最后的注释是*内联注释*，它在语法上也是允许的，但不被推荐，因为它很难阅读。如果使用内联注释，确保在语句末尾和注释符号之间留出一些空格（至少两个空格），以便注释在视觉上能够从可执行代码中突出出来。

## 30.3 总结

本章我们讨论了 JavaScript 代码设计和注释的基本问题。

请确保从本章中了解以下几点：

+   JavaScript 中的标识符可以包含字母、数字、下划线字符和美元符号，但不能以数字开头。

+   标识符采用 UTF-8 编码，因此可能包含变音符号和其他非标准字符；然而，不建议使用这些字符。

+   通常，标识符采用小写字母。如果标识符由多个词组成，则后续词首字母大写（“驼峰命名法”）。

+   语句末尾的分号不是强制性的，但建议加上，因为 JavaScript 并不总是在行末自动停止解析语句。

+   代码中的换行是允许的，只要它们不出现在字符串内部。

+   对于代码设计，这是JavaScript中相对自由的领域，有许多指南代表了对各种主题的截然不同的观点，包括*Google JavaScript风格指南*、*JavaScript标准风格指南*以及Airbnb的风格指南。

+   JavaScript支持单行和多行注释。

+   单行注释以**//**开头，并将其右侧的内容标记为注释；它们也可以在一行代码中使用（“内联”）。

+   多行注释放置在**/*** 和 ***/**之间。
