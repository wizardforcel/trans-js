© 作者，Springer Fachmedien Wiesbaden GmbH独家许可，Springer Nature旗下，2024年J. L. Zuckarelli《用Python和JavaScript学习编程》 [https://doi.org/10.1007/978-3-658-42912-6_9](https://doi.org/10.1007/978-3-658-42912-6_9)

# 9. 如何让程序运行起来？

Joachim L. Zuckarelli^([1](#Aff2)  )(1)慕尼黑，德国概览

在你获得了必要的工具并探索了帮助和信息来源之后，接下来就该仔细思考如何让程序运行。没有什么比在拥有丰富的编程语言理论知识、准备充分的情况下，最终却连第一个小程序都无法启动更令人沮丧的了。

为了避免这种不愉快的经历，你应该尽早编写第一个真正的程序，即使你对编程语言几乎一无所知。

在本章中，你将学习以下内容：

+   为什么尽早编写第一个可执行程序很重要，从而在新的编程语言中庆祝你作为程序员的第一个小成功

+   著名的“hello world”程序是什么，它为什么是进入新编程语言的一个良好起步

+   交互模式和脚本/批处理模式在执行代码时的区别，以及在什么情况下更适合使用哪种模式。

## 9.1 一切开始都很简单

在接下来的章节中，我们将讨论许多基本概念，你需要理解这些概念在新编程语言中的实现，才能开发出真正优秀、实用的程序。然而，现在从一个非常简单的程序开始是非常有帮助的。

你使用这段简单的代码作为逐步扩展的基础，允许你以实践的方式尝试语言的每个附加元素。你还将立即学到一些新编程语言的特定细节，如果从一开始就不理解并注意它们，可能会带来许多麻烦。一个很好的例子就是在许多编程语言中，语句需要以一个特殊字符（通常是分号）结束，这是语法正确的语句所要求的。这样的细节最好通过尽可能简单的程序来学习，因为程序越简单，错误的可能来源就越少，从而也更容易排除故障。这一点很重要，因为你不希望在学习新编程语言的第一步时就陷入漫长且令人沮丧的错误排查。总是更好先获得一些小小的成功感！在此阶段，是否完全理解你做的每一件事并不重要。唯一重要的是，你能够写出一个小的、可执行的程序并运行它。

“执行”是关键字，这让我们立即想到另一个理由：从一个小程序开始，立刻动手。通过这样做，你将学习如何处理新工具中最重要的功能，特别是如何编译源代码（如果需要的话）以及如何执行它。如果你在使用IDE，那么相关的命令可能可以通过菜单或工具栏访问。然而，你也可以选择结合使用普通的代码编辑器和命令行解释器/编译器。在这种情况下，你需要了解如何调用编译或直接解释你的源代码的命令行程序，以及如何向其传递参数。即使你可以将编译器或解释器集成到你的代码编辑器中，因为这通常是通过在代码编辑器中告诉命令行语句来实现的，这一点也需要理解。有关这些信息，通常可以在编程语言的官方文档中找到。

在编译型语言的情况下，程序的编译通常会增加另一个步骤，即*链接*。一个特殊的工具，*链接器*，会生成你程序的可执行文件。这个文件包括你的程序（你编写的源代码，通过语言的编译器翻译成机器语言）、编译后的程序库以及你在程序中访问的其他编译后的组件。链接将所有这些组件合并成一个单独的可执行文件，之后它就可以独立运行。如果你正在使用IDE，通常你会发现除了编译和链接的独立菜单命令外，还有一个叫做“Build”的命令。这个命令会通过单击一次完成编译和链接（即将你的源代码生成可执行程序文件的整个过程）。

然而，在某些情况下，这并不是通过在IDE界面上点击几下或调用命令行解释器或编译器来完成的。例如，JavaScript是一个你需要经常嵌入到网页中的语言，也就是嵌入到HTML文档中。这也需要学习。先尝试一个小的示例程序是不会有坏处的。

然而，这并不是执行源代码的唯一方式。一些编程语言除了执行完整程序外，还支持*交互模式*。在交互模式下，你首先输入一个程序语句。然后，通过按<ENTER>键或某个特殊按钮，这条语句会被执行，并立即显示结果（如果有可显示的结果）。之后，你可以输入另一条语句，并立即看到其结果。这个过程也叫做读-评估-打印循环（REPL），如果你想探索一个数据集并对其进行统计分析时，这个方式非常有用。难怪 R 和 Python，这两种在这一领域具有显著优势的语言，都有交互模式。不过，交互模式也可以用于调试，通过逐条输入指令给交互式解释器（通常称为*控制台*），并在每次执行下一条指令之前查看结果。通过这种方式，容易确定在逐步执行过程中，程序在何处行为与预期不同。因此，不仅仅是用于统计数据分析的语言才支持交互模式。

交互模式通常只存在于解释型语言中。如果你的语言需要编译器，那么你输入的每条交互指令都必须通过编译器翻译成一个独立的、完整的机器语言程序。但那样的话，你就无法使用下一条指令访问之前在内存中处理过的数据，因为第一个程序执行完毕后，其内存区域会被操作系统释放。这样，你就无法实现真正的交互性。因此，编译型语言通常只提供整个程序的执行。这种程序执行方式在解释型语言中也存在，并且是更常见的执行方式，通常被称为*批处理*模式或*脚本*模式，与交互模式相对。

所以，要熟悉如何在你想学习的语言中运行程序。

## 9.2 Hello, World!

通过编写一个最小的程序，你将学到所有需要的知识，来尝试你稍后将学习的编程原则，并了解它们在你的编程语言中的实现方式，从而自由执行程序。

那么，像这样的最小程序是什么样的呢？最著名的最小程序，可能每个程序员都知道，就是“Hello, world”程序。这个程序什么也不做，只是在屏幕上显示简单的“Hello, world”这句话。这个经典的起源可以追溯到 1970 年代初期。

以下是一些不同编程语言中“Hello World”程序的示例。首先是 C 语言：

**#include** <stdio.h>main(){printf("Hello, world!");}

如你所见，实际的输出语句 **printf()** 函数被大括号包围，并且前面有 **main()**。如果你深入学习 C 语言，你会发现 C 程序最终本身就是一个函数，即 **main()** 函数，它在程序启动时自动调用。在我们的例子中，这个函数只是调用了另一个函数 **printf()**，然后在屏幕上显示“Hello world!”这个短语。如果没有 **main()** 函数，你的 C 程序将无法运行。如果忘记在 **printf()** 语句后加分号，你也会遇到问题。而且，为了使 **printf()** 能被调用，你必须包含一个标准的输入输出函数库，使用 **#include <stdio.h>**。因此，让 C 程序运行并不完全是件愉快的事。重要的是，hello-world 程序教会你应用一些基本规则，即使你此时可能并不完全理解它们的含义。尽管如此，如果你深入学习 C 语言，你现在就能够扩展你的 hello-world 程序。

结构上要简单得多的是 Ruby on Rails 中的 hello-world 程序：

print 'Hello, World!'

在 Delphi 中，开发图形用户界面时，你会在编写 hello-world 程序的过程中学会在屏幕上显示一个带有信息图标和“确定”按钮的消息框：

MessageDlg('Hello World!', mtInformation, [mbOK], 0);

实际上，你需要将消息框的显示依赖于某些用户操作，比如用户点击按钮。因此，你的 hello-world 程序还需要包含一个最简单的图形用户界面，包含一个带按钮的窗口。通过这种方式，你将立即学会使用创建图形用户界面的基本工具。

最后，在 PHP 中，学习如何使用标签将 PHP 脚本嵌入到网站中是有意义的。此时，hello-world 程序可能看起来是这样的：

<html><body><?php echo 'Hello world!'; ? ></body></html>

## 9.3 学习新编程语言的路线图

如果你正在学习一门新的编程语言……

+   从编写一个非常简单的程序开始，即使你还没有深入学习新编程语言的深层次内容。通过这种方式，你将学习到一些语言的关键特性。实现经典的“Hello, World”示例是一个很好的方法，几乎所有语言的互联网资源中都可以找到它。

+   处理如何执行你的程序的问题（编译、脚本/批处理模式的解释器或交互模式），并且确切了解如何实现这一点。能编写程序是很棒的，但只有当你能执行它们时，这才是有用的！
